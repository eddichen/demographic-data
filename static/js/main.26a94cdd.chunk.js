(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){e.exports=n.p+"static/media/oval.6e6a6f12.svg"},31:function(e,t,n){e.exports=n(40)},40:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(13),o=n.n(i),c=n(42),l=n(11),u=n(15),s=n(19),d=n.n(s);function p(e){return{type:"SET_SELECTED_FIELD",selectedField:e}}function f(){return{type:"REQUEST_FIELDS"}}function h(e,t){return{type:"RECEIVE_FIELDS",fields:e,error:t}}function m(){return function(e){return e({type:"REQUEST_FIELDS"}),d()("https://birdie-test-thibault-henry.herokuapp.com/api/fields").then(function(e){return e.json()},function(e){return e}).then(function(t){return e(h(t))}).catch(function(t){return e(h([],t))})}}function E(e,t,n){return{type:"RECEIVE_FIELD_DATA",items:e,resultCount:t,error:n}}function b(e){return function(t){return t({type:"REQUEST_FIELD_DATA"}),d()("https://birdie-test-thibault-henry.herokuapp.com/api/".concat(e)).then(function(e){return e.json()},function(e){return e}).then(function(e){var n=e.sort(function(e,t){return t.count-e.count});t(E(function(e,t){var n=e;if(t>100){for(var r=[],a=0;a<=99;a++)r.push(n[a]);return r}return n}(n,e.length),e.length))}).catch(function(e){return t(E({},0,e))})}}var g=n(6),v=n(7),O=n(9),j=n(8),y=n(10),F=n(3),C=n(25),x=n(26);var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,fields:[],error:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_FIELDS":return Object.assign({},e,{isFetching:!0});case"RECEIVE_FIELDS":return Object.assign({},e,{isFetching:!1,fields:t.fields,error:t.error});default:return e}};var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_FIELD":return Object.assign({},e,{value:t.selectedField});default:return e}};var D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,items:[],resultCount:0,error:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_FIELD_DATA":return Object.assign({},e,{isFetching:!0});case"RECEIVE_FIELD_DATA":return Object.assign({},e,{isFetching:!1,items:t.items,resultCount:t.resultCount,error:t.error});default:return e}},S=Object(l.c)({fetchSelectFields:_,selectedField:w,fetchFieldData:D}),I=Object(x.createLogger)(),T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,k=Object(l.e)(S,T(Object(l.a)(C.a,I))),L=n(4);function R(){var e=Object(F.a)(["\n  position: relative;\n  border: 1px solid #ccc;\n  border-radius: 0px;\n  overflow: hidden;\n  width: 90%;\n  margin: 0 auto;\n  padding 5px 6px;\n\n  @media (min-width: 48em) {\n    width: 50%;\n  }\n\n  &:after {\n    content: '';\n    position: absolute;\n    right: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 0;\n    height: 0;\n    border-left: 10px solid transparent;\n    border-right: 10px solid transparent;\n    border-top: 10px solid #666;\n  }\n\n  select {\n    width: 130%;\n    border: none;\n    background: transparent;\n    font-size: 24px;\n    font-family: \"Courier New\", Courier, monospace;\n  \n    &:focus {\n      outline: none;\n    }\n  }\n"]);return R=function(){return e},e}var A=L.b.div(R()),N=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(v.a)(t,[{key:"handleChange",value:function(e){k.dispatch(p(e.target.value)),k.dispatch(b(e.target.value))}},{key:"render",value:function(){return a.a.createElement(A,null,a.a.createElement("select",{value:this.props.selectedField.value,onChange:this.handleChange},a.a.createElement("option",{value:""},"select a field"),this.props.fields.map(function(e,t){return a.a.createElement("option",{key:t},e)})))}}]),t}(r.Component);function z(){var e=Object(F.a)(["\n  font-size: 18px;\n"]);return z=function(){return e},e}var U=L.b.p(z()),Q=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(v.a)(t,[{key:"displayResultCount",value:function(e){return e>100?"Showing 100 of ".concat(e," results"):"Showing all ".concat(e," results")}},{key:"render",value:function(){return a.a.createElement(U,null,this.displayResultCount(this.props.resultCount))}}]),t}(r.Component);function V(){var e=Object(F.a)(["\n  width: 100%;\n  text-align: left;\n  border-collapse: collapse;\n  border-spacing: 0;\n  border-top: 1px solid #ccc;\n\n  thead {\n    td {\n      font-size: 18px;\n      padding: 20px;\n    }\n  }\n\n  tbody {\n    tr:nth-child(2n + 1) {\n      td {\n        background-color: #e6f7ed;\n      }\n    }\n  }\n\n  td {\n    padding: 10px 20px;\n  }\n"]);return V=function(){return e},e}function J(){var e=Object(F.a)(["\n  text-align: center;\n"]);return J=function(){return e},e}var M=L.b.div(J()),P=L.b.table(V()),X=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return a.a.createElement(M,null,a.a.createElement(Q,{resultCount:this.props.resultCount}),a.a.createElement(P,null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("td",null,"#"),a.a.createElement("td",null,"Count"),a.a.createElement("td",null,"Field"),a.a.createElement("td",null,"Average Age"))),a.a.createElement("tbody",null,this.props.items.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,t+1),a.a.createElement("td",null,e.field),a.a.createElement("td",null,e.count),a.a.createElement("td",null,e.average_age))}))))}}]),t}(r.Component),B=n(29),G=n.n(B);function Y(){var e=Object(F.a)(['\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate3d(-50%, -50%, 0);\n  text-align: center;\n\n  .loading__image {\n    width: 50px;\n  }\n\n  .loading__text {\n    font-family: "Courier New", Courier, monospace;\n    font-size: 18px;\n  }\n']);return Y=function(){return e},e}var q=L.b.div(Y()),H=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return a.a.createElement(q,null,a.a.createElement("img",{src:G.a,className:"loading__image",alt:"loader"}),a.a.createElement("p",{className:"loading__text"},"Loading, Please wait."))}}]),t}(r.Component);function K(){var e=Object(F.a)(['\n  font-size: 38px;\n  text-align: center;\n  font-family: Georgia, "Times New Roman", Times, serif;\n  letter-spacing: -2px;\n  color: #ff7219;\n\n  @media (min-width: 48em) {\n    font-size: 50px;\n  }\n']);return K=function(){return e},e}function W(){var e=Object(F.a)(['\n  body {\n    font-family: "Courier New", Courier, monospace;\n    color: #1f1f1f;\n    margin: 0 15px 30px;\n\n    @media(min-width: 48em) {\n      margin: 0 30px 60px;\n    }\n  }\n']);return W=function(){return e},e}var Z=Object(L.a)(W()),$=L.b.h1(K()),ee=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){k.dispatch(m())}},{key:"render",value:function(){var e=this.props.error;return this.props.isFetching?a.a.createElement(H,null):e?a.a.createElement("div",null,"Error: ",e.message):a.a.createElement("div",null,a.a.createElement(Z,null),a.a.createElement($,null,"Demographic Data"),a.a.createElement(N,{fields:this.props.fields,selectedField:this.props.selectedField}),this.props.items.length?a.a.createElement(X,{items:this.props.items,resultCount:this.props.resultCount}):null)}}]),t}(r.Component);var te=Object(u.b)(function(e){return{fields:e.fetchSelectFields.fields,error:e.fetchSelectFields.error,isFetching:e.fetchSelectFields.isFetching,selectedField:e.selectedField,items:e.fetchFieldData.items,resultCount:e.fetchFieldData.resultCount}},function(e){return Object(l.b)(m,f,h,p,b,e)})(ee);o.a.render(a.a.createElement(u.a,{store:k},a.a.createElement(c.a,{basename:"/"},a.a.createElement(te,null))),document.getElementById("root"))}},[[31,2,1]]]);
//# sourceMappingURL=main.26a94cdd.chunk.js.map