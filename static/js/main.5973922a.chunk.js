(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{30:function(e,t,n){e.exports=n(39)},39:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(13),c=n.n(i),o=n(41),l=n(4),u=n(15),s=n(19),d=n.n(s);function p(e){return{type:"SET_SELECTED_FIELD",selectedField:e}}function h(){return{type:"REQUEST_FIELDS"}}function f(e,t){return{type:"RECEIVE_FIELDS",fields:e,error:t}}function E(){return function(e){return e({type:"REQUEST_FIELDS"}),d()("https://birdie-test-thibault-henry.herokuapp.com/api/fields").then(function(e){return e.json()},function(e){return e}).then(function(t){return e(f(t))}).catch(function(t){return e(f([],t))})}}function m(e,t,n){return{type:"RECEIVE_FIELD_DATA",items:e,resultCount:t,error:n}}function b(e){return function(t){return t({type:"REQUEST_FIELD_DATA"}),d()("https://birdie-test-thibault-henry.herokuapp.com/api/".concat(e)).then(function(e){return e.json()},function(e){return e}).then(function(e){var n=e.sort(function(e,t){return t.count-e.count});t(m(function(e,t){var n=e;if(t>100){for(var r=[],a=0;a<=99;a++)r.push(n[a]);return r}return n}(n,e.length),e.length))}).catch(function(e){return t(m({},0,e))})}}var g=n(7),v=n(8),O=n(10),j=n(9),F=n(11),C=n(5),y=n(6);function x(){var e=Object(C.a)(["\n  position: relative;\n  border: 1px solid #ccc;\n  border-radius: 0px;\n  overflow: hidden;\n  width: 90%;\n  margin: 0 auto;\n  padding 5px 6px;\n\n  @media (min-width: 48em) {\n    width: 50%;\n  }\n\n  &:after {\n    content: '';\n    position: absolute;\n    right: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n    width: 0;\n    height: 0;\n    border-left: 10px solid transparent;\n    border-right: 10px solid transparent;\n    border-top: 10px solid #666;\n  }\n\n  select {\n    width: 130%;\n    border: none;\n    background: transparent;\n    font-size: 24px;\n    font-family: \"Courier New\", Courier, monospace;\n  \n    &:focus {\n      outline: none;\n    }\n  }\n"]);return x=function(){return e},e}var w=y.b.div(x()),D=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return a.a.createElement(w,null,a.a.createElement("select",{value:this.props.selectedField.value,onChange:this.props.handleChange},a.a.createElement("option",{value:""},"select a field"),this.props.fields.map(function(e,t){return a.a.createElement("option",{key:t},e)})))}}]),t}(r.Component);function _(){var e=Object(C.a)(["\n  font-size: 18px;\n"]);return _=function(){return e},e}var S=y.b.p(_()),I=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(v.a)(t,[{key:"displayResultCount",value:function(e){return e>100?"Showing 100 of ".concat(e," results"):"Showing all ".concat(e," results")}},{key:"render",value:function(){return a.a.createElement(S,null,this.displayResultCount(this.props.resultCount))}}]),t}(r.Component);function T(){var e=Object(C.a)(["\n  width: 100%;\n  text-align: left;\n  border-collapse: collapse;\n  border-spacing: 0;\n  border-top: 1px solid #ccc;\n\n  thead {\n    td {\n      font-size: 18px;\n      padding: 20px;\n    }\n  }\n\n  tbody {\n    tr:nth-child(2n + 1) {\n      td {\n        background-color: #e6f7ed;\n      }\n    }\n  }\n\n  td {\n    padding: 10px 20px;\n  }\n"]);return T=function(){return e},e}function L(){var e=Object(C.a)(["\n  text-align: center;\n"]);return L=function(){return e},e}var k=y.b.div(L()),R=y.b.table(T()),A=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return a.a.createElement(k,null,a.a.createElement(I,{resultCount:this.props.resultCount}),a.a.createElement(R,null,a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("td",null,"#"),a.a.createElement("td",null,"Count"),a.a.createElement("td",null,"Field"),a.a.createElement("td",null,"Average Age"))),a.a.createElement("tbody",null,this.props.items.map(function(e,t){return a.a.createElement("tr",{key:t},a.a.createElement("td",null,t+1),a.a.createElement("td",null,e.field),a.a.createElement("td",null,e.count),a.a.createElement("td",null,e.average_age))}))))}}]),t}(r.Component),U=n(27),z=n(28);var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,fields:[],error:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_FIELDS":return Object.assign({},e,{isFetching:!0});case"RECEIVE_FIELDS":return Object.assign({},e,{isFetching:!1,fields:t.fields,error:t.error});default:return e}};var Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_FIELD":return Object.assign({},e,{value:t.selectedField});default:return e}};var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,items:[],resultCount:0,error:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_FIELD_DATA":return Object.assign({},e,{isFetching:!0});case"RECEIVE_FIELD_DATA":return Object.assign({},e,{isFetching:!1,items:t.items,resultCount:t.resultCount,error:t.error});default:return e}},J=Object(l.c)({fetchSelectFields:N,selectedField:Q,fetchFieldData:V}),M=Object(z.createLogger)(),X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,B=Object(l.e)(J,X(Object(l.a)(U.a,M)));function G(){var e=Object(C.a)(['\n  font-size: 38px;\n  text-align: center;\n  font-family: Georgia, "Times New Roman", Times, serif;\n  letter-spacing: -2px;\n  color: #ff7219;\n\n  @media (min-width: 48em) {\n    font-size: 50px;\n  }\n']);return G=function(){return e},e}function P(){var e=Object(C.a)(['\n  body {\n    font-family: "Courier New", Courier, monospace;\n    color: #1f1f1f;\n    margin: 0 15px 30px;\n\n    @media(min-width: 48em) {\n      margin: 0 30px 60px;\n    }\n  }\n']);return P=function(){return e},e}var Y=Object(y.a)(P()),q=y.b.h1(G()),H=function(e){function t(){return Object(g.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(v.a)(t,[{key:"handleChange",value:function(e){B.dispatch(p(e.target.value)),B.dispatch(b(e.target.value))}},{key:"componentDidMount",value:function(){B.dispatch(E())}},{key:"render",value:function(){var e=this.props.error;return this.props.isFetching?a.a.createElement("div",null,"Loading..."):e?a.a.createElement("div",null,"Error: ",e.message):a.a.createElement("div",null,a.a.createElement(Y,null),a.a.createElement(q,null,"Demographic Data"),a.a.createElement(D,{fields:this.props.fields,selectedField:this.props.selectedField,handleChange:this.handleChange}),this.props.items.length?a.a.createElement(A,{items:this.props.items,resultCount:this.props.resultCount}):null)}}]),t}(r.Component);var K=Object(u.b)(function(e){return{fields:e.fetchSelectFields.fields,error:e.fetchSelectFields.error,isFetching:e.fetchSelectFields.isFetching,selectedField:e.selectedField,items:e.fetchFieldData.items,resultCount:e.fetchFieldData.resultCount}},function(e){return Object(l.b)(E,h,f,p,b,e)})(H);c.a.render(a.a.createElement(u.a,{store:B},a.a.createElement(o.a,{basename:"/"},a.a.createElement(K,null))),document.getElementById("root"))}},[[30,2,1]]]);
//# sourceMappingURL=main.5973922a.chunk.js.map